{"version":3,"sources":["webpack:///webpack/bootstrap 1e4f1b15c5a2cdf7f9de","webpack:///./src/Remember.js"],"names":["Remember","name","period","delay","_delay","debug","_name","_period","callback","chrome","alarms","getAll","hasAlarm","some","a","create","delayInMinutes","periodInMinutes","console","log","clear","check","cancel","Promise","resolve","onAlarm","addListener","alarm"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;IChEqBA,Q;AACnB,oBAAaC,IAAb,EAAmBC,MAAnB,EAA2BC,KAA3B,EAAkC;AAAA;;AAChC,SAAKC,MAAL,GAAcD,SAAS,CAAvB;AACA,SAAKE,KAAL,GAAa,KAAb;AACA,SAAKC,KAAL,GAAaL,IAAb;AACA,SAAKM,OAAL,GAAeL,MAAf;AACD;;;;0BAEMM,Q,EAAU;AAAA;;AACfC,aAAOC,MAAP,CAAcC,MAAd,CAAqB,UAACD,MAAD,EAAY;AAC/B,YAAME,WAAWF,OAAOG,IAAP,CAAY,UAACC,CAAD,EAAO;AAClC,iBAAOA,EAAEb,IAAF,IAAU,MAAKK,KAAtB;AACD,SAFgB,CAAjB;AAGA,YAAIE,QAAJ,EAAc;AACZA,mBAASI,QAAT;AACD;AACF,OAPD;AAQD;;;6BAEQ;AACPH,aAAOC,MAAP,CAAcK,MAAd,CAAqB,KAAKT,KAA1B,EAAiC;AAC/BU,wBAAgB,KAAKZ,MADU;AAE/Ba,yBAAiB,KAAKV;AAFS,OAAjC;AAIA,UAAI,KAAKF,KAAT,EAAgB;AACda,gBAAQC,GAAR,oCAA6C,KAAKZ,OAAlD,gBAAoE,KAAKD,KAAzE;AACD;AACF;;;6BAES;AACRG,aAAOC,MAAP,CAAcU,KAAd,CAAoB,KAAKd,KAAzB;AACA,UAAG,KAAKD,KAAR,EAAc;AACZa,gBAAQC,GAAR,CAAY,mBAAZ;AACD;AACF;;;6BAES;AAAA;;AACR,WAAKE,KAAL,CAAW,UAACT,QAAD,EAAc;AACvB,YAAIA,QAAJ,EAAc;AACZ,iBAAKU,MAAL;AACD,SAFD,MAEO;AACL,iBAAKP,MAAL;AACD;AACD,eAAKM,KAAL;AACD,OAPD;AAQD;;;+BAEgB;AACf,aAAO,IAAIE,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC9Bf,eAAOC,MAAP,CAAce,OAAd,CAAsBC,WAAtB,CAAkC,UAACC,KAAD,EAAW;AAC3CH,kBAAQG,KAAR;AACD,SAFD;AAGD,OAJM,CAAP;AAKD;;;;;;kBArDkB3B,Q","file":"dist/remember.chrome.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1e4f1b15c5a2cdf7f9de","export default class Remember {\n  constructor (name, period, delay) {\n    this._delay = delay || 0\n    this.debug = false\n    this._name = name\n    this._period = period\n  }\n\n  check (callback) {\n    chrome.alarms.getAll((alarms) => {\n      const hasAlarm = alarms.some((a) => {\n        return a.name == this._name\n      })\n      if (callback) {\n        callback(hasAlarm)\n      }\n    })\n  }\n\n  create() {\n    chrome.alarms.create(this._name, {\n      delayInMinutes: this._delay,\n      periodInMinutes: this._period\n    })\n    if (this.debug) {\n      console.log(`[Remember] created, interval: ${this._period}, name: ${this._name}`)\n    }\n  }\n\n  cancel () {\n    chrome.alarms.clear(this._name)\n    if(this.debug){\n      console.log('[Remember] cancel')\n    }\n  }\n\n  toggle () {\n    this.check((hasAlarm) => {\n      if (hasAlarm) {\n        this.cancel()\n      } else {\n        this.create()\n      }\n      this.check()\n    })\n  }\n\n  static listener(){\n    return new Promise((resolve) => {\n      chrome.alarms.onAlarm.addListener((alarm) => {\n        resolve(alarm)\n      })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/Remember.js"],"sourceRoot":""}